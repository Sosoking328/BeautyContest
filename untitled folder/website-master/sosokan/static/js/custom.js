/*-----------------------------------------------------------------------------------*/
/*	Custom Script
/*-----------------------------------------------------------------------------------*/

jQuery.noConflict();
jQuery(document).ready(function($){

	jQuery('#edit-submit-search-view').click(function(){
		var val = jQuery('#edit-search-api-views-fulltext') .val();

		if(val != ''){
			jQuery('#hidden-keyword').remove();
		}

	});
	jQuery('#tabs a').click(function (e) {
	  e.preventDefault()
	  jQuery(this).tab('show');
	});
	
	$( "#primaryPostForm" ).on('submit',function( event ) {
		var catbox = $('#catID').val();
		if(catbox === '-1'){
			alert('Please Select Category');
			event.preventDefault();
		}
	});

	$('.single-plan form').one('submit', function() {
		$(this).find('.form-submit').attr('disabled','disabled');
	});


	jQuery('.menutrigger').on('click', function(){
		if(jQuery('.responsive-menu').hasClass('menuopen')){
			jQuery('.responsive-menu').removeClass('menuopen');
			jQuery('.menutrigger').removeClass('mtactive');
			jQuery('.responsive-menu').slideUp();
		}else{
			jQuery('.menutrigger').addClass('mtactive');
			jQuery('.responsive-menu').addClass('menuopen');
			jQuery('.responsive-menu').slideDown();
		}
	});
	var nav = jQuery('.menu');
	nav.find('.menu-item-has-children').children('a').on('click' , function(e) {
		jQuery(this).parent('li').toggleClass('active');
		jQuery(this).siblings('.sub-menu').slideToggle();
		e.preventDefault();
	});

  jQuery(".menu-bars").on('click' , function() {

    if(jQuery('.menu-vr-5').hasClass('menu-open')) {
    jQuery('.menu-vr-5').removeClass("menu-open");      //add the class to the clicked element
    jQuery('.menu-vr-5 .fa').removeClass("fa-times");      //add the class to the clicked element
    jQuery('.menu-vr-5 .fa').addClass("fa-bars");      //add the class to the clicked element
    jQuery('.menu-bars').removeClass("menu-bar-second");    //add the class to the clicked element
    jQuery('.menu-bars').addClass("menu-bar-first");
	jQuery(".menu-vr-5-container").css('overflow-x' , 'hidden');

	}else{
    jQuery('.menu-vr-5').addClass("menu-open");      //add the class to the clicked element
    jQuery('.menu-vr-5 .fa').removeClass("fa-bars");      //add the class to the clicked element
    jQuery('.menu-vr-5 .fa').addClass("fa-times");      //add the class to the clicked element
    jQuery('.menu-bars').removeClass("menu-bar-first");      //add the class to the clicked element
    jQuery('.menu-bars').addClass("menu-bar-second");
		setTimeout(function() {
			jQuery(".menu-vr-5-container").css('overflow-x' , 'visible');
		}, 600 );

	}
  });

  if (jQuery('#mylist li').length == 0)	{
		jQuery('body.single').find('.features-box').remove();
	}
	jQuery(window).load(function(){

		jQuery('.page-container .page-content').fadeTo( 300 , 1);

		jQuery('#featured-abs').fadeTo( 300 , 1);

		jQuery('#advanced-search-widget-version2').fadeTo( 300 , 1);

		jQuery('#big-map').fadeTo( 300 , 1);

		jQuery('#featured-abs-author').fadeTo( 300 , 1);

		jQuery('#featured-abs-category').fadeTo( 300 , 1);

		jQuery('body.single').find('.features-box').fadeTo( 300 , 1);

		var LogoHeight = jQuery('.logo img') .height();
		var LogowithSpace = parseInt(LogoHeight + 70);
		jQuery('#version-two-menu > ul > li > a').css('line-height',LogoHeight+'px');
		// jQuery('.menu-vr-5-container > ul > li > a').css('line-height',LogoHeight+'px');
		// jQuery('.menu-vr-5 .menu-bars').css('line-height',LogoHeight+'px');
		jQuery('.header-v3 .login-register').css('line-height',LogowithSpace+'px');

	});

	// Bxslider

	jQuery('.bxslider').bxSlider({
	  adaptiveHeight: true,
	  mode: 'fade',
	  pager: false,
	  captions: true
	});
	jQuery(".container").fitVids();

	jQuery("#catID").change(function() {
		$val = jQuery("#catID").val();
		jQuery(this).parent().parent().parent().find(".wrap-content").css({"display":"none"});
		jQuery(this).parent().parent().parent().find("#cat-" + $val).css({"display":"block"});
	});
	
	jQuery(".fancybox").fancybox();
	
	var noResult = jQuery(".form-select").data('noResult');
	jQuery(".form-select").chosen({
		no_results_text: noResult
	});

    jQuery(document).ready(function() {
	    jQuery(".target-blank").attr({"target" : "_blank"});
	});

	jQuery(window).scroll(function() {
		if (jQuery(this).scrollTop() > 200) {
			jQuery('.backtop').fadeIn(200);
		} else {
			jQuery('.backtop').fadeOut(200);
		}
	});

	// scroll body to 0px on click
	jQuery(".backtop a").click(function () {
		jQuery("body,html").animate({
			scrollTop: 0
		}, 800);
		return false;
	});

	jQuery('#tag-index-page').isotope({
		itemSelector: '.tag-group',
		layoutMode: 'masonry'
	});

	//Toggle
	jQuery(".togglebox").hide();
	//slide up and down when click over heading 2

	jQuery("h4").click(function(){

		// slide toggle effect set to slow you can set it to fast too.
		jQuery(this).toggleClass("active").next(".togglebox").slideToggle("slow");

		return true;

	});

	jQuery(function() {
	    // setup ul.tabs to work as tabs for each div directly under div.panes
      	jQuery("ul.custom-tabs").tabs("div.custom-panes > div");
	});

	if( jQuery('#galleria').length ) {
	    // Initialize Galleria
		Galleria.run('#galleria');
	}


	jQuery('.show-long-number-button').click(function(){

    	jQuery(".show-long-number-button").css("display", "none");
        jQuery(".short-phone-number").css("display", "none");
        jQuery(".long-phone-number").css("display", "block");

	});

 	var number = 0;
	jQuery('#add-btn').click(function(){
		number += 1;
		jQuery( '<div class="col-md-6 col-sm-6 col-xs-12"><input type="text" name="extraFields[0]['+number+']" placeholder="Title"  size="12" class="form-control extra-field first-extra"></div><div class="col-md-6 col-sm-6 col-xs-12"><input type="text" name="extraFields[1]['+number+']" placeholder="Value"  size="12" class="form-control extra-field"></div>' ).appendTo('.extra-fields-container');

	});
	
  setInterval(function(){
  $('.owl-carousel').each( function() {
		
           var $mycarousel = $(this);
			
            $mycarousel.owlCarousel({     
             
				autoplay: $mycarousel.data("autoplay"),
				autoplaySpeed : $mycarousel.data("autoplay-speed"),
				items : $mycarousel.data("items"),
				margin:$mycarousel.data("gutter"),
				loop: $mycarousel.data("loop"),
				navigation : true,
				merge:true,
				autoplayHoverPause:true,
				responsiveRefreshRate:1,
				nav: $mycarousel.data("nav"),
				dots: $mycarousel.data("dots"),
				navText: ["<i class='openheart-icon-angle-left'></i>","<i class='openheart-icon-angle-right'></i>"],
				autoplayTimeout : $mycarousel.data("delay"),
					responsive:{
						0:{
							items:1,
						},
						680:{
							items : $mycarousel.data("items-tab"),
						},
						1024:{
							items : $mycarousel.data("items-tab-ls"),
							
						},
						1025:{
							items : $mycarousel.data("items"),
							
						}
					}
			}); 
		});
    },100);
	
});
// @ since classiads 3.6
// @ Method Web Api : https://developer.mozilla.org/en-US/docs/Web/API/FormData/Using_FormData_Objects
// @ Dev: waseemjutt
function cs_user_avatar_upload(ajaxurl) {
    jQuery('.avatar-loading').html('<i class="fa fa-spinner fa-spin fa-3x"></i>');
    jQuery('.avatar-loading').addClass('pactive');
    var fd = new FormData();
    var file_data = fd.append('user_avatar', jQuery('input[type=file]')[0].files[0]);
    var other_data = jQuery('#form_user_avatar_submit').serializeArray();

    jQuery.each(other_data, function (key, input) {
        fd.append(input.name, input.value);
    });
    jQuery('.gal-edit-opts').hide();
    jQuery.ajax({
        url: ajaxurl,
        data: fd,
        contentType: false,
        processData: false,
        dataType: "json",
        type: 'POST',
        success: function (response) {

            if (response.type == 'error') {
                jQuery('.cs-error-msg').html(response.message);
            } else {
                jQuery('.cs-error-msg').html('');
                jQuery('#cs-user-avatar-ajax-display').html(response.list_icon);
                jQuery(".page-sidebar .info-thumb").html(response.menu_icon);
            }

            jQuery('.avatar-loading').html('');
			jQuery('.avatar-loading').removeClass('pactive');
            setTimeout(function () {
                jQuery('.gal-edit-opts').show();
            }, 200);
        }
    });
}